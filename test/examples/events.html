<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>component - events</title>

    <style>
        body {
            font-family: sans-serif;
            line-height: 1.5em;
        }
        [data-component-name="test-component"] {
            padding: 1em;
            border: 1px solid #efefef;
            margin-bottom: 1em;
            position: relative;
        }
        .close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div data-component-name="test-component">

        <span class="close">&times;</span>

        <h2>Test Component 1</h2>

        <form>

            <div>
                <input type="text" name="text-input">
            </div>
            <div>
                <strong>Current value: </strong><span class="text-input-value"></span>
            </div>
            <div>
                <label for="checkbox-input-1">Checkbox</label>
                <input type="checkbox" name="checkbox-input" id="checkbox-input-1">
            </div>
            <div>
                <strong>Selected: </strong><span class="checkbox-input-value"></span>
            </div>

        </form>

    </div>

    <div data-component-name="test-component">

        <span class="close">&times;</span>

        <h2>Test Component 2</h2>

        <form>

            <div>
                <input type="text" name="text-input">
            </div>
            <div>
                <strong>Current value: </strong><span class="text-input-value"></span>
            </div>
            <div>
                <label for="checkbox-input-2">Checkbox</label>
                <input type="checkbox" name="checkbox-input" id="checkbox-input-2">
            </div>
            <div>
                <strong>Selected: </strong><span class="checkbox-input-value"></span>
            </div>

        </form>

    </div>

    <script src="../../src/components.js"></script>
    <script>

        components.register('test-component', {

            events: {
                '[name="text-input"]:keyup': 'onInputChange',
                '[name="checkbox-input"]:change': 'onCheckboxChange',
                '.close:click': 'remove'
            },

            onInputChange: function (event, input) {
                this.find('.text-input-value').innerHTML = input.value;
            },

            onCheckboxChange: function (event, input) {
                this.find('.checkbox-input-value').innerHTML = input.checked ? 'Checked' : 'Unchecked';
            }

        });

        components.bindEvents();
        components.parse();

    </script>
</body>
</html>
