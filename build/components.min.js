!function(){var a=document,b={},c={},d={},e=1,f=a.createElement("div"),g="addEventListener",h="prototype",i="setAttribute",j="getAttribute",k="parentElement",l="data-component-name",m="data-component-id",n=function(a,b){return[].slice.call(a.querySelectorAll(b))},o=function(b){for(var c;b&&b!==a.body;){if(c=b[j](m))return d[c]||null;b=b[k]}return null},p=function(b,c){for(;b&&b!==a.body;){if(q(b,c))return b;b=b[k]}return null},q=function(a,b){var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector||a.matches;if(c)return c.call(a,b);var d,e=a[k],g=!e;return g&&(e=f,e.appendChild(a)),d=-1!==n(e,b).indexOf(a),g&&e.removeChild(a),d},r=b.fromElement=function(a){var b=a[j](l),e=a[j](m);if(!b)return null;if(e)return d[e];if(!c[b])throw Error("No component has been registered with name "+b);var f=new c[b](a);return d[f._id]=f,f},s=b.Component=function(a){a||(a=this.createRootElement()),this.el=a,this._id=e++,this.el[i](l,this.name),this.el[i](m,this._id),this.events=this.events||[],this.init()};s[h]={name:"",tagName:"div",init:function(){return this},render:function(){return this},appendTo:function(a){return a?(a instanceof s&&a.el&&a.el.appendChild(this.el),a.appendChild&&a.appendChild(this.el),this):this},remove:function(){return this.el&&this.el[k]&&this.el[k].removeChild(this.el),this},destroy:function(){return this.remove(),this.el=null,delete d[this._id],null},createRootElement:function(){return a.createElement(this.tagName)}},b.eventsHandled=0;var t=b.handleEvent=function(a){b.eventsHandled++;var c=a.target,d=a.type,e=o(c);if(e)for(var f,g=e.events,h=0;h<g.length;h++)g[h].event===d&&(g[h].selector?(f=p(c,g[h].selector),f&&e[g[h].method](a,f)):e[g[h].method](a))};b.parse=function(b){b=b||a.body,r(b),n(b,"["+l+"]").forEach(r)},b.register=function(a,b){if("[object Object]"==={}.toString.call(a)&&(b=a,a=b.name),c[a])throw Error("A component called "+a+" already exists");b=b||{};var d=function(){s.apply(this,arguments)},e=function(){};e[h]=s[h],d[h]=new e,d[h].name=a;for(var f in b)b.hasOwnProperty(f)&&(d[h][f]=b[f]);return c[a]=d,d},s.bindEvents=function(){var b=a.body;["click","mousedown","mouseup","mousemove","touchstart","touchmove","touchend","keyup","keydown","blur","focus","submit","change"].forEach(function(a,c){b[g](a,t,c>8)})},window.define&&define.amd?define(function(){return s}):window.components=b}();