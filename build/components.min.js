!function(){for(var a=window,b=document,c={},d={},e={},f=1,g=b.createElement("div"),h="addEventListener",i="prototype",j="setAttribute",k="getAttribute",l="parentElement",m="appendChild",n="data-component-name",o="data-component-id",p={mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup"},q=0,r=["ms","moz","webkit","o"],s={},t=0;t<r.length&&!a.requestAnimationFrame;++t)a.requestAnimationFrame=a[r[t]+"RequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-q));a.setTimeout(function(){b(c+d)},d),q=c+d});var u=function(a,b){return[].slice.call(a.querySelectorAll(b))},v=function(a){for(var c;a&&a!==b.body;){if(c=a[k](o))return e[c];a=a[l]}return null},w=function(a,c){for(;a&&a!==b.body;){if(x(a,c))return a;a=a[l]}return null},x=function(a,b){var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.matchesSelector||a.matches;if(c)return c.call(a,b);var d,e=a[l],f=!e;return f&&(e=g,e[m](a)),d=-1!==u(e,b).indexOf(a),f&&e.removeChild(a),d},y=c.fromElement=function(a){var b=a[k](n),c=a[k](o);if(!b)return null;if(c)return e[c];if(!d[b])throw Error("No component has been registered with name "+b);var f=new d[b](a);return e[f._id]=f,f},z=c.Component=function(a){a||(a=this.createRootElement()),this.el=a,this._id=f++,this.el[j](n,this.name),this.el[j](o,this._id),this.init()};z[i]={name:"",tagName:"div",init:function(){return this},appendTo:function(a){return a?(a instanceof z&&a.el&&a.el[m](this.el),a[m]&&a[m](this.el),this):this},remove:function(){return this.el&&this.el[l]&&this.el[l].removeChild(this.el),this},destroy:function(){return this.remove(),this.el=null,delete e[this._id],null},createRootElement:function(){return b.createElement(this.tagName)},findAll:function(a){return this.el?u(this.el,a):[]},find:function(a){return this.el?this.el.querySelector(a):null},getCoordsFromEvent:function(a){var b=a.touches&&a.touches[0]?a.touches[0]:a;return{x:b.pageX,y:b.pageY}},requestAnimationFrame:function(b){a.requestAnimationFrame(b.bind(this))},setGlobalEvent:function(a,b){return s[a]=s[a]||[],s[a].push({fn:b,ctx:this}),this},releaseGlobalEvent:function(a,b){var c=s[a];return c?(s[a]=c.filter(function(a){return a.fn!==b}),this):this}};var A=c.handleEvent=function(a){var b=a.target,c=a.type,d=v(b);if(!d)return void B(a);var e,f,g,h,i,j,k=d.events;if(!k)return void B(a);for(f in k)k.hasOwnProperty(f)&&(i=f.split(":"),g=i.length>1?i[0]:null,h=i.length>1?i[1]:i[0],j=k[f],(h===c||p[c]===h)&&(g?(e=w(b,g),e&&d[j](a,e)):d[j](a)));B(a)},B=function(a){var c=s[a.type]||s[p[a.type]];if(c)for(var d=0,e=c.length;e>d;d++)c[d].fn.call(c[d].ctx,a,b.body)};c.parse=function(a){a=a||b.body,y(a),u(a,"["+n+"]").forEach(y)},c.register=function(a,b){if("[object Object]"==={}.toString.call(a)&&(b=a,a=b.name),d[a])throw Error("A component called "+a+" already exists");b=b||{};var c=function(){z.apply(this,arguments)},e=function(){};e[i]=z[i],c[i]=new e,c[i].name=a;for(var f in b)b.hasOwnProperty(f)&&(c[i][f]=b[f]);return d[a]=c,c},c.bindEvents=function(){["click","mousedown","mouseup","mousemove","touchstart","touchmove","touchend","keyup","keydown","blur","focus","submit","change"].forEach(function(a,c){b.body[h](a,A,c>8)})},a.define&&define.amd?define(function(){return c}):a.components=c}();