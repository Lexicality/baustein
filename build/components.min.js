!function(){var a=document,b={},c={},d={},e=1,f=a.createElement("div"),g="addEventListener",h="prototype",i="data-component-name",j="data-component-id",k=function(a,b){return[].slice.call(a.querySelectorAll(b))},l=function(b){for(var c;b&&b!==a.body;){if(c=b.getAttribute(j))return d[c]||null;b=b.parentElement}return null},m=function(b,c){for(;b&&b!==a.body;){if(n(b,c))return b;b=b.parentElement}return null},n=function(a,b){var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector||a.matches;if(c)return c.call(a,b);var d,e=a.parentElement,g=!e;return g&&(e=f,e.appendChild(a)),d=-1!==k(e,b).indexOf(a),g&&e.removeChild(a),d},o=b.fromElement=function(a){var b=a.getAttribute(i),e=a.getAttribute(j);if(!b)return null;if(e)return d[e];if(!c[b])throw Error("No component has been registered with name "+b);var f=new c[b](a);return d[f._id]=f,f},p=b.Component=function(a){a||(a=this.createRootElement()),this.el=a,this._id=e++,this.el.setAttribute(i,this.name),this.el.setAttribute(j,this._id),this.events=this.events||[],this.init()};p[h]={name:"",tagName:"div",init:function(){return this},render:function(){return this},appendTo:function(a){return a?(a instanceof p&&a.el&&a.el.appendChild(this.el),a.appendChild&&a.appendChild(this.el),this):this},remove:function(){return this.el&&this.el.parentElement&&this.el.parentElement.removeChild(this.el),this},destroy:function(){return this.remove(),this.el=null,delete d[this._id],null},createRootElement:function(){return a.createElement(this.tagName)}},b.eventsHandled=0;var q=b.handleEvent=function(a){b.eventsHandled++;var c=a.target,d=a.type,e=l(c);if(e)for(var f,g=e.events,h=0;h<g.length;h++)g[h].event===d&&(g[h].selector?(f=m(c,g[h].selector),f&&e[g[h].method](a,f)):e[g[h].method](a))};b.parse=function(b){b=b||a.body,o(b),k(b,"["+i+"]").forEach(o)},b.register=function(a,b){if("[object Object]"==={}.toString.call(a)&&(b=a,a=b.name),c[a])throw Error("A component called "+a+" already exists");b=b||{};var d=function(){p.apply(this,arguments)},e=function(){};e[h]=p[h],d[h]=new e,d[h].name=a;for(var f in b)b.hasOwnProperty(f)&&(d[h][f]=b[f]);return c[a]=d,d},p.bindEvents=function(){var b=a.body;["click","mousedown","mouseup","mousemove","touchstart","touchmove","touchend","keyup","keydown","blur","focus","submit","change"].forEach(function(a,c){b[g](a,q,c>8)})},window.define&&define.amd?define(function(){return p}):window.components=b}();