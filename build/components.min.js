!function(){var a=document,b={},c={},d={},e=1,f=a.createElement("div"),g="addEventListener",h="prototype",i="setAttribute",j="getAttribute",k="parentElement",l="appendChild",m="data-component-name",n="data-component-id",o=function(a,b){return[].slice.call(a.querySelectorAll(b))},p=function(b){for(var c;b&&b!==a.body;){if(c=b[j](n))return d[c];b=b[k]}return null},q=function(b,c){for(;b&&b!==a.body;){if(r(b,c))return b;b=b[k]}return null},r=function(a,b){var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.matchesSelector||a.matches;if(c)return c.call(a,b);var d,e=a[k],g=!e;return g&&(e=f,e[l](a)),d=-1!==o(e,b).indexOf(a),g&&e.removeChild(a),d},s=b.fromElement=function(a){var b=a[j](m),e=a[j](n);if(!b)return null;if(e)return d[e];if(!c[b])throw Error("No component has been registered with name "+b);var f=new c[b](a);return d[f._id]=f,f},t=b.Component=function(a){a||(a=this.createRootElement()),this.el=a,this._id=e++,this.el[i](m,this.name),this.el[i](n,this._id),this.init()};t[h]={name:"",tagName:"div",init:function(){return this},appendTo:function(a){return a?(a instanceof t&&a.el&&a.el[l](this.el),a[l]&&a[l](this.el),this):this},remove:function(){return this.el&&this.el[k]&&this.el[k].removeChild(this.el),this},destroy:function(){return this.remove(),this.el=null,delete d[this._id],null},createRootElement:function(){return a.createElement(this.tagName)},findAll:function(a){return this.el?o(this.el,a):[]},find:function(a){return this.el?this.el.querySelector(a):null}};var u=b.handleEvent=function(a){var b=a.target,c=a.type,d=p(b);if(d){var e,f,g,h,i,j,k=d.events;if(k)for(f in k)k.hasOwnProperty(f)&&(i=f.split(":"),g=i.length>1?i[0]:null,h=i.length>1?i[1]:i[0],j=k[f],h===c&&(g?(e=q(b,g),e&&d[j](a,e)):d[j](a)))}};b.parse=function(b){b=b||a.body,s(b),o(b,"["+m+"]").forEach(s)},b.register=function(a,b){if("[object Object]"==={}.toString.call(a)&&(b=a,a=b.name),c[a])throw Error("A component called "+a+" already exists");b=b||{};var d=function(){t.apply(this,arguments)},e=function(){};e[h]=t[h],d[h]=new e,d[h].name=a;for(var f in b)b.hasOwnProperty(f)&&(d[h][f]=b[f]);return c[a]=d,d},b.bindEvents=function(){["click","mousedown","mouseup","mousemove","touchstart","touchmove","touchend","keyup","keydown","blur","focus","submit","change"].forEach(function(b,c){a.body[g](b,u,c>8)})},window.define&&define.amd?define(function(){return b}):window.components=b}();